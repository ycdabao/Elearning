<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>课程管理</title>
    <link rel="stylesheet" type="text/css" href="../../js/jquery-easyui-1.5.5.4/themes/default/easyui.css" />
    <link rel="stylesheet" type="text/css" href="../../js/jquery-easyui-1.5.5.4/themes/icon.css" />
    <script type="text/javascript" src="../../js/jquery-easyui-1.5.5.4/jquery.min.js"></script>
    <script type="text/javascript" src="../../js/jquery-easyui-1.5.5.4/jquery.easyui.min.js"></script>
    <script type="text/javascript" src="../../js/layer/layer.js"></script>
    <!-- 中文化 -->
    <script type="text/javascript" src="../../js/jquery-easyui-1.5.5.4/locale/easyui-lang-zh_CN.js"></script>
    <style type="text/css">
        *{font-family: 微软雅黑}
        a{text-decoration: none; color: black}
    </style>
</head>
<body>
    <table class="easyui-datagrid" id="coursedatagrid" >    </table>

<script type="text/javascript">
    <!--初始化课程列表-->
    $("#coursedatagrid").datagrid({
        url:'/course/list',
        autoRowHeight:true,
        fitColumns:true,
        striped:true,
        columns:[
            [

                {field:'courseCover',title:'课程封面',align:'center',formatter:function(value,row,index){
                    return "<img src='/"+value+"' width='180' height='100' style='display: inline-block;margin:5px'/>";}
                },
                {field:'courseName',title:'课程名称',width:'20%',align:'center'},
                {field:'courseCreatedate',title:'创建时间',align:'center'},
                {field:'courseStudentNumber',title:'报名人数',width:'10%',align:'center'},
                {field:'coursePrice',title:'价格',width:'5%',align:'center'},
                {field:'courseStatus',title:'状态',align:'center',width:'5%'},
                {field:'id',title:'操作',formatter:function(value,row,index){
                    var content="<a href='javascript:editcourse(\""+value+"\")'  style='display: block;margin-bottom: 10px'>编辑课程信息</a><a href='javascript:editchapter(\""+value+"\")' style='display: block;'>编辑课程章节</a>";
                    return content;
                }},
            ]
        ],
        pagination:true
    });

    function editcourse(courseid){


        var url = "/course/toedit?id="+courseid;
        //iframe层
        layer.open({
            type: 2,
            title: "编辑课程",
            shadeClose: true,
            shade: [0.6, '#606060'],
            area: ['80%', '90%'],
            content: url
        });
    }


    function editchapter(cousrseid){
        var url = "/chapter/toedit?id="+cousrseid;
        //iframe层
        layer.open({
            type: 2,
            title: "编辑课程",
            shadeClose: true,
            shade: [0.6, '#606060'],
            area: ['80%', '90%'],
            content: url
        });
    }
</script>

</body>
</html>